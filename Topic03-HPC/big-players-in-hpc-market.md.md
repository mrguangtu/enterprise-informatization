# 现在的高性能计算市场存在什么问题

## 1.为什么大多项目是硬件厂商在主导？

高性能计算系统的建设费用，除开基础设施，可以粗略的分为：

* 硬件
* 软件
* 服务

**谁分得钱多，谁就自然更有动力。**

### 硬件

在高性能计算领域，和PC市场一样，我国商用芯片供给主要是靠进口。像在好地段租房子的商户给收高价房租的房东打工一样，服务器厂商就扮演了给芯片厂商打工的角色，Intel收了CPU的租，英伟达收了GPU的租，Mellanox收了Infiniband的租。芯片的价格高，抬高了服务器的价格。

而计算能力，往往是靠芯片数量堆上去的。这也就意味着，想要建设一个超算集群，钱少是不行的。因此，拥有自建HPC的企业，规模往往不小。粗粗估算一下，一台计算节点少说五六万元，建设一百台节点规模的集群，加上管理节点、交换机、高速网络、存储等，仅用在硬件设备上的投资，也要上千万人民币的规模了。这么大规模的资金，按比例，一单下来利润不小。

### 软件

和硬件比起来，软件正版化率低，是一个被动不动就提及的话题。这也就意味着，如果一个软件有爱国版，除非不得已，还去选择使用正版软件的用户就会比较少。换一个角度来讲，不购买硬件，肯定是不能计算的；而不购买软件，有时还熬得过去。因此，在有爱国版商用软件的领域，软件的建设费用占比往往非常低；而在没爱国版的领域，软件许可费用甚至会几倍于硬件的费用。

### 服务

另一块费用是运营支持服务，一般是硬件厂商包办，或者向有服务能力的第三方买人天。往往这部分费用是看用户的服务等级要求，肯在这块花钱的用户比较少，运营费往往是能省就省。多数集群建好后，是不需要频繁调整的，这样的集群买**巡检**基本就够用了。一个人天几千块，一个月来两回，一年也要不了多少钱。如果集群用户需求变化频繁，老需要折腾，买**驻场工程师**，一个人年也就几十万的样子。顶事的驻场工程师，一个人管上百个节点的集群不成问题。

------

多数情况下，硬件费用是占大头的，硬件厂商拿到的利润也多，因此也就比较积极。



## 2.这样有什么问题？

硬件厂商的利润来源于硬件设备的销售量。所以，硬件厂商的核心目标就是能把设备尽可能多的卖出去。至于最终用户使用体验怎么样，往往不太关心。一般设备上架前，硬件销售会各种找机会和你见面；一旦完成上架收了尾款，销售就不见了。

商用软件这块，提供服务的多数是国外软件原厂的代理商，利润来源主要是卖产品，提供服务的能力也有限，最多管管实施和二次开发，硬件基础环境人家是不管的，至于开发，不好意思，开发团队在国外，国内的工程师没这权限也往往没这能力给你改代码做集成和优化。

此外，影响最终用户体验的因素，还有很多，例如：

* 硬件架构是否合理
* 软件配置是否最优
* 与操作系统、其它软件的集成是否流畅
* 是否没有与硬件兼容性的问题
* 驱动程序、基础软件包等运行环境是否装齐了
* 是否经过性能调优，以发挥硬件应有的水平
* ......

因此往往最终用户抱怨系统不好用，拿了很多利润的硬件厂商往往会一脸无辜的说，我的设备是好着的，是软件的问题，就把皮球踢给软件厂商。而软件厂商往往也会给用户说，软件没有问题，是由于硬件问题引起的，或者，要想体验更好，得掏钱改架构、改配置、做开发等等，再拿笔钱来吧。

这种**踢皮球**的问题，结局往往是建设方自己兜着了。

* **建设时能力不行，考虑不周，修好要花钱。**——额，对不起，加钱要打报告，相当于坐实了当初考虑不周。除非逼到不得不改，建设方的项目经理才不愿意打报告坐实自己的无能。
* **被水货销售忽悠了**——当初系统建设的时候，怎么从来没人提过这事？出了事找谁都不认，自己也没能力找出有力证据，要求某方整改。只好认栽。
* **拆新墙，补旧墙**——反正都是公家的钱，今年项目没搞好，明年再搞个项目，再买点硬件，顺便修好。供应商很高兴，又赚钱了。用户很高兴，问题解决了。呵呵，相当于自己人掩盖问题。
* ......

多年来，最终用户们似乎形成了一个共识：企业自建的HPC，白花好多钱，还**不好用**，不用吧，还不行，只好将就用了。多年来，最终用户往往就是这么**将就**过来的。

## 3.那怎么解决？

建设一个好用的HPC，涉及硬件、软件、优化、开发、运营......很多方面，目前还不是一两家厂商就能覆盖得全的事。而且，不同行业的用户，需求也都不一样。要想体验做得好，就得往产品化方向走。本质就是提供**解决方案**，应该是服务提供商该做的事。

目前，能提供让最终用户满意的专业HPC服务的供应商，还少之又少。要么由于一些原因不能买服务，要么服务太贵，要么不专业。企业要想HPC好用，得等市场成熟；如果等不及，那就高薪招一个靠谱而有经验的HPC管理员吧。

未来，也许会出现更加详细的分工，会出现像阿里云一样的服务模式，在各个专业领域，出现对应的服务商提供专业服务。那时，企业就能像购买水电一样，购买计算能力。